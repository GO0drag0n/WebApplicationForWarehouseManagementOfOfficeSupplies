@model WebApplicationForWarehouseManagementOfOfficeSupplies.DTOs.PendingOrdersDetailsViewModel

<div class="container my-4">
    <h2>Request Details</h2>
    <div class="card">
        <div class="card-body">
            <h5>Request Information</h5>
            <p><strong>Request ID:</strong> @Model.RequestID</p>
            <p><strong>Status:</strong> @Model.Status</p>
            <h5>Company Information</h5>
            <p><strong>Company Name:</strong> @Model.CompanyName</p>
            <p><strong>Address:</strong> @Model.CompanyAddress</p>
            <p><strong>Phone:</strong> @Model.CompanyPhone</p>
            <p><strong>Requested by:</strong> @Model.UserName</p>
            <p><strong>VAT-number:</strong> @Model.VATNumber</p>
            <p><strong>Created At:</strong> @Model.CreatedAt.ToString("yyyy-MM-dd HH:mm")</p>
            <p><strong>Discount level:</strong> @Model.DiscountLevel</p>
        </div>
    </div>

    <h4>Products</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Brand</th>
                <th>Model</th>
                <th>Quantity</th>
                <th>Row</th>
                <th>Section</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var product in Model.RequestProducts)
            {
                <tr>
                    <td>@product.ProductBrand</td>
                    <td>@product.ProductModel</td>
                    <td>@product.ProductQuantity</td>
                    <td>@product.ProductRow</td>
                    <td>@product.ProductSection</td>
                </tr>
            }
        </tbody>
    </table>

    <!-- Status Update Section -->
    <h4>Update Order Status</h4>
    <form method="post" asp-action="UpdateStatus" asp-controller="PendingOrders">
        <input type="hidden" name="requestId" value="@Model.RequestID" />
        <div class="form-group">
            <label for="newStatus">Order Status</label>
            <select id="newStatus" name="newStatus" class="form-control">
                <option value="Pending" selected="@Model.Status == " Pending"">Pending</option>
                <option value="Rejected" selected="@Model.Status == " Rejected"">Rejected</option>
                <option value="Confirmed" selected="@Model.Status == " Confirmed"">Confirmed</option>
                <option value="Sent" selected="@Model.Status == " Sent"">Sent</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary mt-3">Update Status</button>
    </form>
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success mt-3 ">@TempData["SuccessMessage"]</div>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger mt-3 ">@TempData["ErrorMessage"]</div>
    }

</div>
